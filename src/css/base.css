@tailwind base;
@tailwind components;
@tailwind utilities;

/* NetNewsWire Theme Base Styles */
@layer base {
  /* Base elements */
  body {
    @apply mx-auto max-w-[44em] break-words leading-relaxed text-text bg-background;
    margin-top: 20px;
    margin-bottom: 64px;
    padding-left: 48px;
    padding-right: 48px;
    font-family: -apple-system, "SF Pro Text", "SF Pro Display", system-ui, sans-serif;
  }

  h1 {
    @apply font-bold pb-0 mb-[5px];
  }

  /* Code blocks */
  code,
  pre {
    @apply font-mono text-[0.95em] hyphens-none text-body-code;
  }

  pre code {
    @apply tracking-[-0.027em] text-[0.9375em];
  }

  /* Links */
  a {
    @apply no-underline font-bold text-accent;
  }

  a:hover {
    @apply underline;
  }

  /* Images */
  img {
    @apply rounded max-w-full h-auto m-0 mx-auto;
  }

  /* Horizontal rules */
  hr {
    @apply border-none h-px mt-4 bg-table-cell-border;
  }
}

@layer components {
  /* Feed Header */
  .feedHeader {
    @apply mx-auto text-center;
  }

  .feedHeader img {
    @apply mx-auto block py-4;
  }

  .headerTable {
    @apply w-full h-[68px] border-b border-b-header-table-border text-header;
  }

  .header {
    @apply text-header;
  }

  .header a:link,
  .header a:visited {
    @apply text-header;
  }

  /* Article components */
  .articleBody {
    @apply mt-5;
  }

  .articleTitle a:link,
  .articleTitle a:visited,
  .articleTitle h1 {
    @apply text-article-title mt-[26px] pb-3 text-center mx-auto font-sans;
  }

  .articleFeedName {
    @apply mb-[5px];
  }

  .articleDateline {
    @apply text-article-date mb-[5px] text-center pt-4;
  }

  .articleDateline a:link,
  .articleDateline a:visited {
    @apply font-normal text-article-date pt-4 text-center;
  }

  .externalLink {
    @apply mb-[5px] italic w-full whitespace-nowrap overflow-hidden text-ellipsis text-center;
  }

  /* Blockquotes */
  blockquote {
    @apply bg-bg-light-highlight rounded-md my-0 mb-[1.5em] p-4 text-blockquote-text leading-relaxed;
  }

  blockquote > blockquote {
    @apply text-[95%] pl-4 py-0 italic;
  }

  blockquote > *:first-child {
    @apply mt-0;
  }

  blockquote > *:last-child {
    @apply mb-0;
  }

  /* Code blocks */
  pre {
    @apply p-[5px] rounded max-w-full m-0 overflow-auto overflow-y-hidden whitespace-normal break-normal bg-bg-code;
  }

  p code {
    @apply bg-bg-code p-[0.2em] rounded-lg;
  }

  /* Tables */
  .nnw-overflow {
    @apply overflow-x-auto;
  }

  .nnw-overflow table {
    @apply mb-px border-spacing-0 border border-secondary-accent text-inherit;
  }

  .nnw-overflow td,
  .nnw-overflow th {
    @apply hyphens-none break-normal border border-table-cell-border border-t-0 border-l-0 p-[5px];
  }

  /* Text size classes */
  @supports not (-webkit-touch-callout: none) {
    .smallText {
      @apply text-[14px];
    }

    .mediumText {
      @apply text-[16px];
    }

    .largeText {
      @apply text-[18px];
    }

    .xlargeText {
      @apply text-[20px];
    }

    .xxlargeText {
      @apply text-[22px];
    }
  }

  /* iOS specific styles */
  @supports (-webkit-touch-callout: none) {
    body {
      @apply mt-[3px] mb-5 px-5 text-[1.4em] font-normal;
    }

    .articleTitle {
      @apply text-[0.7em];
    }
  }
}

/* Special utility classes */
@layer utilities {
  .rightAlign {
    @apply text-end;
  }

  .leftAlign {
    @apply text-start;
  }

  /* Syntax highlighting */
  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-literal,
  .hljs-section,
  .hljs-link {
    color: #569cd6;
  }

  .hljs-string,
  .hljs-attr,
  .hljs-selector-id,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo,
  .hljs-template-tag,
  .hljs-template-variable {
    color: #ce9178;
  }

  .hljs-number,
  .hljs-builtin-name {
    color: #b5cea8;
  }

  .hljs-function,
  .hljs-class,
  .hljs-title {
    color: #dcdcaa;
  }

  .hljs-comment,
  .hljs-quote {
    color: #6a9955;
    font-style: italic;
  }

  .hljs-type,
  .hljs-built_in {
    color: #4ec9b0;
  }
}

/* Print styles */
@media print {
  body {
    @apply text-[12pt] leading-[1.4] text-black bg-white;
  }

  a {
    @apply text-black underline;
  }

  pre,
  code {
    @apply bg-[#f5f5f5] border border-[#ddd];
  }

  img {
    @apply max-w-full;
  }

  .systemMessage,
  .externalLink,
  iframe {
    @apply hidden;
  }

  h1,
  h2,
  h3,
  img,
  figure,
  table,
  ul,
  ol,
  blockquote {
    page-break-inside: avoid;
  }

  h1,
  h2,
  h3 {
    page-break-after: avoid;
  }

  article {
    page-break-before: always;
  }
}
